(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{153:function(e,t,r){},156:function(e,t,r){"use strict";r(147),r(148);var n={name:"s-button",components:{"s-icon":r(150).a},props:{type:{type:String,validator:function(e){return["primary","info","success","warning","danger"].includes(e)}},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},icon:{type:String,required:!1},iconPosition:{type:String,default:"left",validator:function(e){return"left"===e||"right"===e}}},computed:{btnClass:function(){var e=[];return this.iconPosition&&e.push("ico-".concat(this.iconPosition)),this.type&&e.push("btn-".concat(this.type)),this.disabled&&e.push("btn-disabled"),e.join(" ")}}},i=(r(157),r(1)),a=Object(i.a)(n,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"s-button",class:e.btnClass,on:{click:function(t){return e.$emit("click")}}},[e.icon&&!e.loading?t("s-icon",{staticClass:"icon",attrs:{name:e.icon}}):e._e(),e._v(" "),e.loading?t("s-icon",{staticClass:"icon loading",attrs:{name:"loading"}}):e._e(),e._v(" "),t("div",{staticClass:"btn-content"},[e._t("default")],2)],1)}),[],!1,null,"98432282",null);t.a=a.exports},157:function(e,t,r){"use strict";r(153)},158:function(e,t,r){},160:function(e,t,r){"use strict";r(158)},162:function(e,t,r){"use strict";var n={name:"s-input",components:{"s-icon":r(150).a},props:{icon:{type:String},value:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:String},placeholder:{type:String}}},i=(r(160),r(1)),a=Object(i.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper",class:{error:e.error,disabled:e.disabled,readonly:e.readonly}},[e.icon?[t("s-icon",{attrs:{name:e.icon}})]:e._e(),e._v(" "),t("input",{ref:"input",attrs:{type:"text",readonly:e.readonly,disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},change:function(t){return e.$emit("change",t.target.value)},focus:function(t){return e.$emit("focus",t.target.value)},blur:function(t){return e.$emit("blur",t.target.value)}}}),e._v(" "),e.error?[t("s-icon",{attrs:{name:"error"}}),e._v(" "),t("span",{staticClass:"err-msg"},[e._v(e._s(e.error))])]:e._e()],2)}),[],!1,null,"81542912",null);t.a=a.exports},163:function(e,t,r){var n=r(12),i=r(426)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},185:function(e,t,r){},186:function(e,t,r){},187:function(e,t,r){},426:function(e,t,r){var n=r(6),i=r(25),a=r(26),s=r(38).f;e.exports=function(e){return function(t){for(var r,o=a(t),l=i(o),u=l.length,c=0,f=[];u>c;)r=l[c++],n&&!s.call(o,r)||f.push(e?[r,o[r]]:o[r]);return f}}},427:function(e,t,r){"use strict";r(185)},428:function(e,t,r){"use strict";r(186)},429:function(e,t,r){"use strict";r(187)},461:function(e,t,r){"use strict";r.r(t);r(23),r(14),r(37),r(147),r(148),r(16),r(10),r(11),r(5),r(163),r(30),r(17);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,a=[{key:"add",value:function(t,r){e.prototype[t]=r}}],(r=[{key:"validate",value:function(e,t){for(var r={},n=Object.entries(t),i=0;i<n.length;i++){var a=n[i],s=a[0];if(void 0!==e[s]){var o=!0,l=!1,u=void 0;try{for(var c,f=a[1][Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value,m=Object.keys(d).filter((function(e){return["lengthControl","pattern","validator","required"].includes(e)}))[0],v=this[m](e[s],d);if(!v){console.log(s,"checked failed in",m),r[s]=d.message;break}if("string"==typeof v){console.log(s,"checked failed in",m),r[s]=v;break}}}catch(e){l=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(l)throw u}}}}return r}},{key:"required",value:function(e){return!(void 0===e||""===e)}},{key:"lengthControl",value:function(e,t){var r=!0,i=e.toString().length,a=n(t.lengthControl,2),s=a[0],o=a[1];return s&&i<s&&(r=!1),o&&i>o&&(r=!1),r}},{key:"max",value:function(e,t){return e.toString().length<=t.max}},{key:"pattern",value:function(e,t){return t.pattern.test(e)}},{key:"validator",value:function(e,t){try{return t.validator.call(this,e)}catch(e){return e.message}}}])&&i(t.prototype,r),a&&i(t,a),e}();function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={name:"s-form",data:function(){return{errors:{},validator:new a,eventTriggerModel:{},requiredFieldsList:[]}},props:{rules:{type:Object},model:{type:Object}},mounted:function(){this.bindEvent(),this.setRequiredLabel()},methods:{findReqiredFields:function(){for(var e=Object.entries(this.rules),t=0;t<e.length;t++){var r=e[t],n=!0,i=!1,a=void 0;try{for(var s,o=r[1][Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;if(Object.keys(l).includes("required")&&l.required){this.requiredFieldsList.push(r[0]);break}}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}},setRequiredLabel:function(){var e=this;this.findReqiredFields(),this.$children.forEach((function(t){e.requiredFieldsList.includes(t.name)&&(t.required=!0)}))},bindEvent:function(){var e=this;this.$children.forEach((function(t){var r=t.$props.name;t.$children.forEach((function(t){t.$on("blur",(function(){var t=o({},r,e.model[r]);e.eventTriggerModel=Object.assign(e.eventTriggerModel,t),e.validate(e.eventTriggerModel)}))}))}))},validate:function(e){var t=this.rules,r=this.validator;this.errors=r.validate(e,t),this.boardcast()},reset:function(e){var t=s({},e);Object.keys(t).forEach((function(e){t[e]=""})),this.errors={},this.boardcast()},boardcast:function(){var e=s({},this.errors);this.$children.forEach((function(t){t.error=e[t.$props.name]}))}}},u=r(1),c=Object(u.a)(l,(function(){var e=this;return(0,e._self._c)("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.$emit("submit",t)}}},[e._t("default")],2)}),[],!1,null,null,null).exports,f={name:"s-form-item",data:function(){return{error:"",required:!1}},props:{label:{type:String,required:!0},name:{required:!0}},watch:{error:function(e){e?this.$children[0].$el.classList.add("error"):this.$children[0].$el.classList.remove("error")}}},d=(r(427),r(428),Object(u.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-item"},[t("div",{staticClass:"label"},[t("div",{staticClass:"ico"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.required,expression:"required"}],staticClass:"required-ico"},[e._v("*")])]),e._v(" "),t("label",[e._v(e._s(e.label))])]),e._v(" "),t("div",{staticClass:"controls"},[e._t("default"),e._v(" "),t("div",{staticClass:"error"},[e._v("\n      "+e._s(e.error)+"\n    ")])],2)])}),[],!1,null,"96af6570",null).exports),m=r(156),v=r(162),g=r(0),p=r(164),h=r.n(p);g.a.use(h.a);var b={data:function(){return{code:'\n        <s-form  :model.sync="user" class="form"  :rules="rules" ref="form">\n          <h3>登录</h3>\n          <s-form-item label="姓名" name="name">\n            <s-input type="text" v-model="user.name" placeholder="试一下输入Bingo"></s-input>\n          </s-form-item>\n          <s-form-item label="年龄"  name="age"  >\n            <s-input type="number" v-model="user.age" placeholder="输入一个正常人的年龄哦"></s-input>\n          </s-form-item>\n          <s-form-item label="数量"  name="count">\n            <s-input type="number" v-model="user.count"></s-input>\n          </s-form-item>\n          <div style="display:flex;justify-content:flex-end">\n            <s-button class="ok" @click="submit" style="width:60px">提交</s-button>\n            <s-button class="ok" @click="reset" style="width:60px;margin-left:30px">重置</s-button>\n          </div>\n        </s-form>\n        export default {\n          data () {\n            var checkName = (val) => {\n            if (val === \'Bingo\') {\n                throw new Error(\'被骗了哈哈哈~\')\n            } else { return true }\n            }\n            var checkAge = (val) => {\n            if (parseInt(val) > 30) {\n                throw new Error(\'不能超过30岁\')\n            } else { return true }\n            }\n              return {\n                user: {\n                  name: \'\',\n                  age: \'\',\n                  count:\'\'\n                },\n                rules: {\n                  name: [\n                    { required: true, message: \'请输入名字\', trigger: \'blur\' },\n                    { lengthControl: [3, 5], message: \'长度在 3 到 5 个字符\', trigger: \'blur\' },\n                    { pattern: /^(D)+$/, message: \'内容不能有数字\', trigger: \'blur\' },\n                    { validator: checkName, trigger: \'blur\' }\n                  ],\n                  age: [\n                    { required: true, message: \'请输入年龄\', trigger: \'blur\' },\n                    { lengthControl: [ null, 2 ], message: \'长度不能超过2\', trigger: \'blur\' },\n                    { pattern: /d/, message: \'必须是数字\', trigger: \'blur\' },\n                    { validator: checkAge, trigger: \'blur\' }\n                  ],\n                  count: [\n                    { lengthControl: [ null, 4 ], message: \'长度不能超过4\', trigger: \'blur\' }\n                  ]\n                }\n\n              }\n            }\n    '.replace(/^ {8}/gm,"").trim(),user:{name:"",age:"",count:""},rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"},{lengthControl:[3,5],message:"长度在 3 到 5 个字符",trigger:"blur"},{pattern:/^(\D)+$/,message:"内容不能有数字",trigger:"blur"},{validator:function(e){if("Bingo"===e)throw new Error("被骗了哈哈哈~");return!0},trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{lengthControl:[null,2],message:"长度不能超过2",trigger:"blur"},{pattern:/\d/,message:"必须是数字",trigger:"blur"},{validator:function(e){if(parseInt(e)>30)throw new Error("不能超过30岁");return!0},trigger:"blur"}],count:[{lengthControl:[null,4],message:"长度不能超过4",trigger:"blur"}]}}},components:{"s-form":c,"s-form-item":d,"s-button":m.a,"s-input":v.a},methods:{submit:function(){this.$refs.form.validate(this.user)},reset:function(){this.$refs.form.reset(this.user)}}},y=(r(429),Object(u.a)(b,(function(){var e=this,t=e._self._c;return t("div",[t("s-card",{scopedSlots:e._u([{key:"code",fn:function(){return[t("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[t("code",{staticClass:"vue"},[e._v(e._s(e.code))])])]},proxy:!0}])},[t("div",{staticClass:"form-wrapper"},[t("s-form",{ref:"form",staticClass:"form",attrs:{model:e.user,rules:e.rules},on:{"update:model":function(t){e.user=t}}},[t("span",[e._v("请随意填写下方表单并提交，本例子含多种校验规则，详细可以展开代码查看~")]),e._v(" "),t("h3",[e._v("登录")]),e._v(" "),t("s-form-item",{attrs:{label:"姓名",name:"name"}},[t("s-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),t("s-form-item",{attrs:{label:"年龄",name:"age"}},[t("s-input",{attrs:{type:"number",placeholder:"请输入年龄"},model:{value:e.user.age,callback:function(t){e.$set(e.user,"age",t)},expression:"user.age"}})],1),e._v(" "),t("s-form-item",{attrs:{label:"数量",name:"count"}},[t("s-input",{attrs:{type:"number",placeholder:"请输入数量"},model:{value:e.user.count,callback:function(t){e.$set(e.user,"count",t)},expression:"user.count"}})],1),e._v(" "),t("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t("s-button",{staticClass:"ok",staticStyle:{width:"60px"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),t("s-button",{staticClass:"ok",staticStyle:{width:"60px","margin-left":"30px"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)])],1)}),[],!1,null,"7183275c",null));t.default=y.exports}}]);